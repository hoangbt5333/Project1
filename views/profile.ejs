<div class="space-y-4 max-w-4xl">
  <% if (message) { %>
    <div id="toast-message"><%= message %></div>
  <% } %>

  <div>
    <p class="text-xs uppercase tracking-[0.3em] text-slate-400 font-semibold">Tài khoản</p>
    <h2 class="text-2xl font-bold text-slate-800">Hồ sơ cá nhân</h2>
  </div>

  <form action="/profile" method="POST" class="bg-white rounded-2xl shadow-sm border border-slate-100 p-6 space-y-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-semibold text-slate-700 mb-1">Email (tài khoản đăng nhập)</label>
        <input type="email" value="<%= profile.email || user && user.email || '' %>" readonly class="w-full px-4 py-3 border border-slate-200 rounded-xl bg-slate-100">
      </div>
      <div>
        <label class="block text-sm font-semibold text-slate-700 mb-1">Họ tên</label>
        <input type="text" name="ho_ten" value="<%= profile.ho_ten || '' %>" required class="w-full px-4 py-3 border border-slate-200 rounded-xl bg-slate-50 focus:ring-2 focus:ring-brand focus:border-brand">
      </div>
      <div>
        <label class="block text-sm font-semibold text-slate-700 mb-1">Ngày sinh</label>
        <input type="date" name="ngay_sinh" value="<%= profile.ngay_sinh ? profile.ngay_sinh.toISOString().split('T')[0] : '' %>" class="w-full px-4 py-3 border border-slate-200 rounded-xl bg-slate-50 focus:ring-2 focus:ring-brand focus:border-brand">
      </div>
      <div>
        <label class="block text-sm font-semibold text-slate-700 mb-1">Giới tính</label>
        <select name="gioi_tinh" class="w-full px-4 py-3 border border-slate-200 rounded-xl bg-white focus:ring-2 focus:ring-brand focus:border-brand">
          <option value="">-- Chọn giới tính --</option>
          <option value="Nam" <%= profile.gioi_tinh === 'Nam' ? 'selected' : '' %>>Nam</option>
          <option value="Nữ" <%= profile.gioi_tinh === 'Nữ' ? 'selected' : '' %>>Nữ</option>
        </select>
      </div>
      <div class="md:col-span-2">
        <label class="block text-sm font-semibold text-slate-700 mb-1">Địa chỉ</label>
        <input type="text" name="dia_chi" value="<%= profile.dia_chi || '' %>" class="w-full px-4 py-3 border border-slate-200 rounded-xl bg-slate-50 focus:ring-2 focus:ring-brand focus:border-brand">
      </div>
      <div>
        <label class="block text-sm font-semibold text-slate-700 mb-1">Số điện thoại</label>
        <input type="text" name="so_dien_thoai" value="<%= profile.so_dien_thoai || '' %>" class="w-full px-4 py-3 border border-slate-200 rounded-xl bg-slate-50 focus:ring-2 focus:ring-brand focus:border-brand">
      </div>
    </div>

    <button type="submit" class="px-5 py-3 bg-brand text-white font-semibold rounded-xl hover:bg-brand-soft transition">Lưu thay đổi</button>
  </form>
</div>
