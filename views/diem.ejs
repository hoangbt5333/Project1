<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Danh sách điểm</h2>

  <button class="btn btn-primary" onclick="window.location.href='/diem/add'">
    <i class="fa-solid fa-plus"></i> Nhập điểm
  </button>

  <form class="d-flex" method="get" action="/diem">
    <!-- Ô tìm kiếm -->
    <input
      type="text"
      name="search"
      value="<%= search %>"
      class="form-control me-2"
      placeholder="Tìm sinh viên, mã SV..."
    />

    <!-- Dropdown lọc theo môn học -->
    <select name="monhoc" class="form-select me-2" style="min-width: 200px;">
      <option value="">Tất cả môn học</option>
      <% monhocList.forEach(m => { %>
        <option value="<%= m.ten_mon_hoc %>" <%= monhoc === m.ten_mon_hoc ? 'selected' : '' %>>
          <%= m.ten_mon_hoc %>
        </option>
      <% }) %>
    </select>

    <button class="btn btn-primary">Lọc</button>
  </form>
</div>

<table class="table table-striped table-hover">
  <thead class="table-primary">
    <tr>
      <th>Mã SV</th>
      <th>Họ tên</th>
      <th>Học kỳ</th>
      <th>Môn học</th>
      <th>Điểm chữ</th>
      <th>Điểm số</th>
    </tr>
  </thead>
  <tbody>
    <% if (scores.length > 0) { %>
      <% scores.forEach((item) => { %>
        <tr>
          <td><%= item.ma_sv %></td>
          <td><%= item.ho_ten %></td>
          <td><%= item.hoc_ky %></td>
          <td><%= item.ten_mon_hoc %></td>
          <td><%= item.diem_chu %></td>
          <td><%= item.diem_so %></td>
        </tr>
      <% }) %>
    <% } else { %>
      <tr>
        <td colspan="7" class="text-center text-muted">Không có dữ liệu phù hợp</td>
      </tr>
    <% } %>
  </tbody>
</table>
